<% cache card do %>
  <div id="<%= dom_id(card) %>" class="flex flex-col md:flex-row py-5 px-6 bg-grey-lightest rounded mb-4" data-controller="edit-card">
    <div class="flex flex-col md:flex-row md:w-2/3" data-target="edit-card.card">
      <div class="mb-4 md:mb-0 md:w-1/2">
        <%= card.front %>
      </div>

      <div class="mb-4 md:mb-0 md:w-1/2">
        <%= card.back %>
      </div>
    </div>

    <%= form_with model: card, class: 'hidden flex-col md:flex-row md:w-2/3', data: { target: 'edit-card.form' } do |f| %>
      <%= f.text_field :front,
                       required: true, placeholder: true,
                       class: 'md:w-1/2 bg-transparent pb-2 border-b-2 focus:border-indigo mr-5 mb-4 md:mb-0' %>

      <%= f.text_field :back,
                       required: true, placeholder: true,
                       class: 'md:w-1/2 bg-transparent pb-2 border-b-2 focus:border-indigo mr-5 mb-4 md:mb-0' %>

      <%= f.submit 'Save', class: 'btn btn-primary mb-4 md:mb-0' %>
    <% end %>

    <div class="md:w-1/3 md:text-right">
      <%= link_to '#', class: 'mr-5 text-grey-dark hover:text-indigo-dark', data: { action: 'edit-card#toggle' } do %>
        <i class="material-icons mr-1" style="font-size:.925rem">edit</i>
        Edit
      <% end %>

      <%= link_to card_path(card), method: :delete, data: { confirm: 'Are you sure?' }, class: 'text-grey-dark hover:text-red-dark' do %>
        <i class="material-icons mr-1" style="font-size:.925rem">delete</i>
        Delete
      <% end %>
    </div>
  </div>
<% end %>
